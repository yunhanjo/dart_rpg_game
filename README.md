<h1 align="center">
Dart Console RPG Game Application
</h1>
<h3 align="center">
[Dart 심화] 개인 과제 - RPG Game
</h3>

<p align="center"> 프로젝트 일정 25/06/30~25/07/04
</p>




<br/>
<h2>프로젝트 개요</h2>

#### 💡 아래의 기능을 활용한 전투 RPG 게임 프로그램
> 랜덤으로 값을 뽑아내는 기능
> 

> 파일 입출력을 처리하는 기능
> 

> 객체 지향을 활용한 전체 구조 생각하기

<br/>
<br/>

## **필수 기능 완료**

### 1. 파일로부터 데이터 읽어오기 기능

**[ 설명 ]**

- 게임(Game 클래스) 시작 시 캐릭터와 몬스터의 스탯을 파일에서 읽어옵니다.

**[ 조건 ]**

- 캐릭터의 스탯은 `characters.txt` 파일에서 읽어옵니다.
- 몬스터들의 스탯은 `monsters.txt` 파일에서 읽어옵니다.
- 파일의 데이터는 **CSV 형식**으로 되어 있습니다.
- 예시
    - 캐릭터 → 체력, 공격력, 방어력
    - 몬스터 →이름, 체력, 공격력 최대값(설정된 최대값에서 `Random()` 을 사용하여 공격력 지정)

---

### 2. 사용자로부터 캐릭터 이름 입력받기 기능

**[ 설명 ]**

- 게임 시작 시 사용자가 캐릭터의 이름을 입력합니다.

**[ 조건 ]**

- 이름은 빈 문자열이 아니어야 합니다.
- 이름에는 **특수문자나 숫자가 포함되지 않아야** 합니다.
- 허용 문자: **한글, 영문 대소문자**

---

### 3. 게임 종료 후 결과를 파일에 저장하는 기능

**[ 설명 ]**

- 게임 종료 후 결과를 파일에 저장합니다.

**[ 조건 ]**

- “결과를 저장하시겠습니까? (y/n)“를 출력합니다.
- 사용자의 입력에 따라 결과를 result.txt 파일에 저장합니다.
- 저장되는 내용은 **캐릭터의 이름, 남은 체력, 게임 결과(승리/패배)** 입니다.
---

### 4. 캐릭터와 몬스터의 공통되는 부분을 추상화하여, 추상 클래스 구현

**[ 설명 ]**

- Character 클래스와 Monster 클래스에서 공통되는 부분을 추상화하여, 이를 추상 클래스로 만들고, 두 클래스가 이 추상 클래스를 상속받도록 코드를 구현합니다.

**[ 조건 ]**

- 추상 클래스에서 공통으로 사용되는 변수 선언
- 상속 받는 클래스에서 함수 재정의 하기. 함수 재정의는 아래와 같은 형식

  <br/>
  <br/>

## **도전 기능 완료**

### 1. 캐릭터의 체력 증가 기능 추가

**[ 설명 ]**

- 30%의 확률로 캐릭터에게 보너스 체력을 제공합니다.

**[ 조건 ]** 

- 게임이 시작되고 캐릭터의 데이터를 불러온 후 해당 기능을 호출합니다.
- 30%의 확률로 `character`의 `health`를 `10` 증가 시킵니다.
- 보너스 체력을 얻었을 시 아래와 같이 출력합니다.
    - 출력 예시 `'보너스 체력을 얻었습니다! 현재 체력: ${character.health}'`

---

### 2. 전투 시 캐릭터의 아이템 사용 기능 추가

**[ 설명 ]**

- 캐릭터가 전투 중에 한 번 특수 아이템을 사용할 수 있는 기능을 구현합니다.

**[ 조건 ]**

- 전투 중 사용자가 `3`을 입력하면 아이템을 사용합니다.
- 아이템이 사용되었는지 확인하는 변수를 추가합니다.
- 아이템을 사용했다면 다시 사용할 수 없도록 처리합니다.
- 아이템 사용 시 캐릭터는 한 턴 동안 공격력이 두 배로 변경됩니다.

---

### 3. 몬스터의 방어력 증가 기능 추가

**[ 설명 ]**

- 몬스터의 방어력을 특정 턴마다 증가시킵니다.
- 방어력 증가로 인하여 캐릭터가 몬스터에게 입히는 데미지가 줄어들게 됩니다.

**[ 조건 ]**

- 3턴마다 **방어력이 2씩 증가**하도록 함수를 작성합니다.
- 방어력 증가 시 출력 문구는 아래로 작성합니다.
    - `'${name}의 방어력이 증가했습니다! 현재 방어력: $defense’`

---


<br/>
<br/>

## TroubleShooting

#### readAsString() 파일 경로
- 필요성: dart:io 라이브러리의 File 클래스를 사용하여 파일을 읽어오고 싶어서
- 해결책: 터미널에 "dart run" 입력
- 개선점: 터미널로 실행 가능

#### productpricelist가 int 타입이라 오류 발생
- 문제: String printlist = productlist[i]+' / '+productpricelist[i]+'원';
- 해결책: to.String() 사용해서 해결
- 개선점: printlist = productnamelist[i]+' | '+productpricelist[i].toString()+'원';

#### containsKey(변수)의 반환값
- 문제: if (inputname==ShoppingMall().productMap.containsKey(inputname)) {
  입력 받은 상품 이름 == 상품 목록 중의 키값과 비교하려 했으나 containsKey의 반환값은
  true or false 이기 때문에 오류 발생
- 해결책: if (ShoppingMall().productMap.containsKey(inputname)==true) {
- 개선점: ShoppingMall 클래스의 상품 목록 중의 키값이 입력 받은 상품 이름과 일치해서
  true를 반환하면 조건과 일치하기 때문에 해결

#### try { throw(); } catch (e) {}
- 문제: try { throw Exception('오류발생'); } catch (e) {}
  "Exception : 오류발생" 이라고 출력
- 해결책: Exception을 지우고 throw만 사용
- 개선점: "오류발생" 출력

#### late
- 문제: 상품 목록을 출력하는 메서드 showProducts()에서 뿐만 아니라 다른 메서드에서도
  사용하고 싶어서 showProducts() 밖에 선언했는데 오류
- 해결책: 변수를 선언할 당시에는 넣어줄 값을 아직 특정하기 어려워서 late 변수로 선언
- 개선점: 여러 메서드에서 사용 가능


<br/>
<br/>

## 개선사항

### 2025/06/27 : 도전 기능 3. 장바구니에 담은 상품들의 목록과 가격을 볼 수 있는 기능 미완성

**[ 설명 ]**

- `3`을 입력 시 장바구니에 담긴 상품 목록과 장바구니에 담긴 상품들의 금액 총합을 출력합니다.

**[ 조건 ]**

- 장바구니가 비어있을 경우 `장바구니에 담긴 상품이 없습니다.` 출력
- 출력 형태 : `장바구니에 셔츠, 청바지, 넥타이가 담겨있네요. 총 [가격]원 입니다!`


